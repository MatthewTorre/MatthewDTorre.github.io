/* Graffiti / Brooklyn sticker aesthetic for Experience cards */

:root {
  /* Uses Bangers already included; fall back if missing */
  --font-graffiti: 'Bangers', 'Permanent Marker', system-ui, sans-serif;
}

/* Base sticker card */
.xp-card.graffiti {
  position: relative; isolation: isolate;
  background: var(--card, #141821);
  border-radius: var(--radius-2xl, 16px);
  box-shadow: var(--shadow-lg, 0 10px 24px rgba(0,0,0,.35));
  /* tighter interior padding to reduce blank space */
  padding: clamp(10px, 1.4vw, 16px);
  outline: 2px solid color-mix(in oklab, var(--foreground, #e5e7eb) 20%, transparent);
  outline-offset: 4px;
  background-blend-mode: soft-light;
  /* Optional paper texture: set --paper-noise to a url('...') elsewhere if desired */
  background-image: var(--paper-noise, none);
}

/* FX layers under content */
.xp-card__fx { position: absolute; inset: -6px; pointer-events: none; z-index: -1; }
.fx-halftone { opacity: .10; background-image: radial-gradient(circle at 1px 1px, color-mix(in oklab, var(--primary, #5bb6ff) 22%, transparent) 1px, transparent 1.6px); background-size: 10px 10px; }
.fx-splatter { opacity: .16; }
.fx-splatter-img { position: absolute; pointer-events: none; filter: none; transform: scale(.96); transition: transform .28s ease, opacity .28s ease; }
.fx-splatter-img.s1 { left: 8%; top: 14%; width: 40%; height: auto; }
.fx-splatter-img.s2 { right: 8%; top: 20%; width: 26%; height: auto; }
.xp-card.graffiti.is-open .fx-splatter-img { transform: scale(1); opacity: .22; }

/* Tape corners */
.xp-card__tape { position: absolute; width: 64px; height: 64px; opacity: .9; pointer-events: none; }
.tape--lt { top: -10px; left: -6px; transform: rotate(-6deg); }
.tape--rb { bottom: -12px; right: -8px; transform: rotate(8deg); }

/* Graffiti tag title */
.graffiti-tag {
  font-family: var(--font-graffiti, var(--font-display, inherit));
  font-weight: 900;
  letter-spacing: .01em;
  transform: skewX(-3deg) rotate(-.4deg);
  text-shadow:
    1px 1px 0 var(--background, #0b0d10),
    -1px -1px 0 var(--background, #0b0d10),
    0 0 .35rem color-mix(in oklab, var(--primary, #5bb6ff) 40%, transparent);
}
.xp-card.graffiti:hover .graffiti-tag {
  filter: drop-shadow(0 0 .45rem color-mix(in oklab, var(--primary, #5bb6ff) 55%, transparent));
}

/* Chips */
.xp-meta { display: flex; flex-wrap: wrap; gap: .4rem; align-items: center; }
.chip { display: inline-flex; align-items: center; gap: .5ch; padding: .25rem .6rem; border-radius: 999px; background: var(--muted, #1f2937); color: var(--foreground, #e5e7eb); box-shadow: 0 2px 0 color-mix(in oklab, var(--foreground) 20%, transparent); position: relative; isolation: isolate; }
.chip::after { content: ""; position: absolute; right: -8px; top: 50%; width: 12px; height: 70%; background: inherit; transform: skewX(-18deg) translateY(-50%); border-radius: 2px; }
.xp-card.graffiti .chip::after { content: none; display: none; }
.chip--date { opacity: .95; }
.chip--org { opacity: .85; }
.chip--dur { opacity: .75; }

/* Hover tilt enhancement (works with existing exp-card hover) */
@media (hover:hover) and (pointer:fine) {
  .xp-card.graffiti { transition: transform .18s cubic-bezier(.2,.9,.2,1); }
  .xp-card.graffiti:hover { transform: translateY(-2px) rotateZ(var(--tilt, -.25deg)); }
}

@media (prefers-reduced-motion: reduce) {
  .xp-card.graffiti, .fx-splatter { transition: none !important; }
}
