/* Palette per line */
:root{
  --line-all:        #9aa0a6;
  --line-aiml:       #00d1ff;
  --line-product:    #ff3b81;
  --line-agile:      #f59e0b;
  --line-compliance: #a3e635;
}

.subway-tabs{ position: relative; padding-block: .25rem .5rem; }

.subway-rail{
  position: relative; display: grid; grid-auto-flow: column; gap: .6rem;
  overflow: auto; padding: .5rem .75rem;
  scroll-snap-type: x proximity; scrollbar-width: thin;
  background: linear-gradient(180deg, color-mix(in oklab, var(--card) 96%, transparent), transparent);
  border-top: 1px solid #ffffff14;
  border-bottom: 1px solid #00000033;
  border-radius: 12px;
}
.subway-rail:focus{ outline: 2px solid color-mix(in oklab, var(--primary) 60%, white 10%); outline-offset: 2px; }

.inkbar{
  position: absolute; height: 3px; left: 0; bottom: 2px; width: 80px;
  background:
    linear-gradient(90deg, #fff 0 10%, #000 10% 12%, #fff 12% 100%),
    linear-gradient(90deg, var(--line-all), var(--line-product), var(--line-aiml));
  border-radius: 999px;
  box-shadow: 0 0 10px rgba(0,0,0,.35);
  transform: translateX(0);
  transition: transform .28s cubic-bezier(.2,.9,.2,1), width .28s;
}

.subway-tab{
  --mx:50%; --my:50%;
  position: relative; scroll-snap-align: start;
  display: inline-flex; align-items: center; gap: .6rem;
  padding: .5rem .85rem .5rem .6rem;
  border-radius: 999px;
  background: color-mix(in oklab, var(--muted) 85%, transparent);
  border: 2px solid #00000026;
  font-weight: 800;
  text-transform: none;
  letter-spacing: .25px;
  user-select: none; cursor: pointer;
  transition: transform .18s ease, background .18s ease, filter .18s ease;
  isolation: isolate;
}
.subway-tab .line-dot{ width: .66rem; height: .66rem; border-radius: 999px; box-shadow: 0 0 0 2px #0006 inset; background: var(--line-all); }
.subway-tab.var-ai-ml .line-dot{ background: var(--line-aiml); }
.subway-tab.var-product .line-dot{ background: var(--line-product); }
.subway-tab.var-agile .line-dot{ background: var(--line-agile); }
.subway-tab.var-compliance .line-dot{ background: var(--line-compliance); }

.subway-tab.is-active{
  transform: translateY(-1px);
  color: #111;
  background:
    radial-gradient(40px 28px at var(--mx) var(--my), #ffffff88, transparent 60%),
    linear-gradient(90deg, #fff 0 10%, #000 10% 12%, #fff 12% 100%),
    linear-gradient(90deg, color-mix(in oklab, var(--line-all) 40%, transparent),
                         color-mix(in oklab, var(--line-product) 40%, transparent),
                         color-mix(in oklab, var(--line-aiml) 40%, transparent));
  box-shadow: 0 6px 18px rgba(0,0,0,.25);
}

.subway-tab::after{
  content:""; position:absolute; inset:-6px; z-index:-1; border-radius: 999px; opacity:0;
  background: radial-gradient(120px 70px at var(--mx) var(--my),
              color-mix(in oklab, var(--line-product) 40%, transparent), transparent 60%);
  filter: blur(8px);
  transition: opacity .18s ease;
}
.subway-tab:hover::after{ opacity:.55; }
.subway-tab:hover{ transform: translateY(-1px); }

@media (prefers-reduced-motion: reduce){
  .inkbar, .subway-tab, .subway-tab::after{ transition: none !important; }
}

